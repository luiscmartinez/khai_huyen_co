if (self.CavalryLogger) { CavalryLogger.start_js(["cjHv5"]); }

__d("UserLivingRoomCreateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"LivingRoomCreateUserSessionData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UserLivingRoomCreateMutation",selections:[{alias:null,args:b,concreteType:"LivingRoomCreateUserSessionResponsePayload",kind:"LinkedField",name:"living_room_create_user_session",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UserLivingRoomCreateMutation",selections:[{alias:null,args:b,concreteType:"LivingRoomCreateUserSessionResponsePayload",kind:"LinkedField",name:"living_room_create_user_session",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"living_room",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:null}],storageKey:null}]},params:{id:"1802932456493149",metadata:{},name:"UserLivingRoomCreateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FBToggle.react",["cx","invariant","KeyActivationToClickHOC.react","React","ReactCSSTransitionGroup","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isOpen:c.props.startOpen||!!c.props.open},c.$1=function(){if(c.props.disabled)return;c.props.onChange&&c.props.onChange(!c.state.isOpen,c.props.disabled);c.setState(function(a){a=a.isOpen;return{isOpen:!a}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState(function(a,b){return{isOpen:b.open!=null?b.open:a.isOpen}})};d.render=function(){var a=this.props.children;a.length==2||a.length==3||h(0,4229);a.length==2&&(a=[a[0]].concat(a));var c=this.state.isOpen?a[1]:a[0];a=a[2];var d=(this.state.isOpen?"_4ncx":"")+(this.state.isOpen?"":" _4ncy")+(this.props.disabled?" _4ncz":"");d=b("joinClasses")(this.props.className,d);var e="_4nc-",f="_4nc_"+(this.state.isOpen?"":" hidden_elem");e=i.jsx("span",{"aria-level":this.props.headingLevel,className:e,role:this.props.headingLevel?"heading":null,children:i.jsxs("span",{"aria-pressed":this.state.isOpen,onClick:this.$1,onKeyPress:this.props.keyActivationToClickEvent,ref:this.props.keyActivationToClickRef,role:"button",tabIndex:"0",children:[" ",c," "]})});c=this.props.animate&&!this.state.isOpen?null:i.jsxs("span",{className:f,children:[" ",a," "]});f=this.props;f.onChange;a=babelHelpers.objectWithoutPropertiesLoose(f,["onChange"]);return!this.props.animate?i.jsxs("div",babelHelpers["extends"]({},a,{className:d,children:[e,c]})):i.jsxs("div",babelHelpers["extends"]({},a,{className:d,children:[e,i.jsx(b("ReactCSSTransitionGroup"),{className:"_naw",transitionName:{enter:"_nax",enterActive:"_nay",leave:"_naz",leaveActive:"_na_"},transitionEnterTimeout:200,transitionLeaveTimeout:200,children:c})]}))};return c}(i.Component);a.propTypes={startOpen:(c=b("prop-types")).bool,open:c.bool,animate:c.bool,disabled:c.bool,headingLevel:c.oneOf([2,3,4,5,6]),onChange:c.func};a.defaultProps={disabled:!1,headingLevel:null,open:null,startOpen:!1};e.exports=b("KeyActivationToClickHOC.react")(a)}),null);
__d("BasePrivacyWidget",["Arbiter","ArbiterMixin","DOM","Form","PrivacyConst"],(function(a,b,c,d,e,f){var g=b("PrivacyConst").BaseValue;function a(){}Object.assign(a.prototype,b("ArbiterMixin"),{init:function(a,b,c,d){this._controllerId=b,this._root=a,this._options=Object.assign(d||{},c),this._formDataKey="privacy_data"},getData:function(){return this._model.getData()},_getPrivacyData:function(a){a=a||this._fbid;var b={};b[a]=this.getData();return b},getRoot:function(){return this._root},_initMenu:function(a){this._menu=a,this._menu.subscribe("itemclick",this._onMenuSelect.bind(this))},_isCustomSetting:function(a){return a==g.CUSTOM},_isEveryoneSetting:function(a){return a==g.EVERYONE},_updateSelector:function(a){a=this._model.value;if(!this._isCustomSetting(a)){this._onPrivacyChanged();return}},_onPrivacyChanged:function(){this._saveFormData(),b("Arbiter").inform("Form/change",{node:this.getRoot()}),this.inform("privacyChanged",this.getData()),b("Arbiter").inform("UIPrivacyWidget/globalPrivacyChanged",{fbid:this._fbid,data:this.getData()})},_saveFormData:function(){var a=b("DOM").find(this.getRoot(),"div.UIPrivacyWidget_Form");b("DOM").empty(a);var c={};this._options.useLegacyFormData?c[this._formDataKey]=this.getData():c[this._formDataKey]=this._getPrivacyData();b("Form").createHiddenInputs(c,a)}});e.exports=a}),null);
__d("TargetedPrivacyConsts",[],(function(a,b,c,d,e,f){a={GENDER_BOTH:0,GENDER_MALE:1,GENDER_FEMALE:2,LOC_ALL:0,LOC_REGION:1,LOC_CITY:2};e.exports=a}),null);
__d("TargetedPrivacyModel",["PrivacyConst","TargetedPrivacyConsts"],(function(a,b,c,d,e,f){var g=b("PrivacyConst").BaseValue;function a(){this.value=g.EVERYONE;this.countries=[];this.countries_names=[];this.location_type=b("TargetedPrivacyConsts").LOC_ALL;this.location_ids=[];this.location_ids_names=[];this.locales=[];this.locales_names=[];this.gender=b("TargetedPrivacyConsts").GENDER_BOTH;this.age_min=0;this.age_max=0;return this}Object.assign(a.prototype,{init:function(a,b,c,d,e,f,g,h,i,j,k,l,m){this.value=a,this.countries=b.slice(),this.countries_names=c.slice(),this.location_type=d,this.location_ids=e.slice(),this.location_ids_names=f.slice(),this.age_min=g,this.age_max=h,this.gender=i,this.locales=j!=null?j.slice():[],this.locales_names=k!=null?k.slice():[],this.see_regions=m,this.see_cities=l},getData:function(){var a={};if(this.value==g.EVERYONE)return a;var b=["countries","location_type","location_ids","age_min","age_max","gender","locales"];for(var c=0;c<b.length;++c){var d=b[c];a[d]=this[d]}a.genders=a.gender;return a}});e.exports=a}),null);
__d("UITargetedPrivacyWidget",["fbt","ArbiterMixin","AsyncRequest","BasePrivacyWidget","Dialog","MenuSelectableItem","PrivacyConst","TargetedPrivacyModel","Tooltip","classWithMixins","mixin"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(d,e,f,g,h,i,j,k){var l;l=a.call(this)||this;var m={useLegacyFormData:!0};l.init(e,f,m,k);l._profileId=g;l._model=new(b("TargetedPrivacyModel"))();l._formDataKey="targeted_privacy_data";l._button=h;l._everyoneItem=l._retrieveEveryoneItem(d);l._customItem=l._retrieveCustomItem(d);l._defaultTooltip=i;l._shouldDisplayTooltip=j;c.instances[l._controllerId]=babelHelpers.assertThisInitialized(l);l._initMenu(d);l._saveFormData();return l}var d=c.prototype;d._onMenuSelect=function(a,c){a=c.item;if(!a instanceof b("MenuSelectableItem"))return;c=a.getValue();c==b("PrivacyConst").BaseValue.EVERYONE&&(this._model=new(b("TargetedPrivacyModel"))());this._saveFormData();this._updateSelector();this._updateTooltipForButtonFromItem(a);this._isCustomSetting(c)&&this._showDialog()};d._updateTooltipForButtonFromItem=function(a){if(!this._shouldDisplayTooltip)return;a=a.getValue();this._isCustomSetting(a)?b("Tooltip").set(this._button,g._("Custom")):b("Tooltip").set(this._button,this._defaultTooltip)};d.reset=function(){this._model=new(b("TargetedPrivacyModel"))();this._updateSelector();this._saveFormData();return this};d.setProfileID=function(a){this._profileId=a};d._showDialog=function(){var a={controller_id:this._controllerId,profile_id:this._profileId};this._dialog=new(b("Dialog"))().setAsync(new(b("AsyncRequest"))().setURI(c.DIALOG_URI).setData(a)).setModal(!0).show()};d._updateSelector=function(b){b===void 0&&(b=!1),a.prototype._updateSelector.call(this),b&&!this._isCustomSetting(this._model.value)&&(this._everyoneItem.select(),this._customItem.deselect(),this._updateTooltipForButtonFromItem(this._everyoneItem),this._menu.inform("change",this._menu.getSelection()))};d._retrieveEveryoneItem=function(a){return this._retrieveTargetItem(a,this._isEveryoneSetting)};d._retrieveCustomItem=function(a){return this._retrieveTargetItem(a,this._isCustomSetting)};d._retrieveTargetItem=function(a,c){return a._items.find(function(a){return a instanceof b("MenuSelectableItem")&&c(a.getValue())})};c.getInstance=function(a){return this.instances[a]};return c}(b("classWithMixins")(b("BasePrivacyWidget"),b("mixin")(b("ArbiterMixin"))));Object.assign(a,{DIALOG_URI:"/ajax/privacy/targeted_privacy_widget_dialog.php",instances:{}});e.exports=a}),null);
__d("UserLivingRoomCreateMutation",["RelayFBEnvironment","RelayModern","UserLivingRoomCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UserLivingRoomCreateMutation.graphql");function a(a,c,d){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("XPagesShareActorListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/actors/",{target_id:{type:"Int",required:!0}})}),null);
__d("ShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XPagesShareActorListController"],(function(a,b,c,d,e,f){var g=b("React"),h=110;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actorIDs:[],loading:!0,selectedActorID:null},c.$3=function(a){c.setState({selectedActorID:a.value}),c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.render=function(){return!this.state.actorIDs||!this.state.selectedActorID?g.jsx("div",{}):g.jsx(b("ActorSelector.react"),{disabled:this.props.disabled,actorIDs:this.state.actorIDs,coverEnabled:!1,loading:this.state.loading,onChange:this.$3,ref:"selector",useProfileActorSelector:this.props.suppressButton,selectedActorID:this.state.selectedActorID,showName:!this.props.suppressButton,showNameMaxWidth:h,suppressed:this.props.suppressButton||this.state.actorIDs.length===1})};d.componentDidUpdate=function(a){this.props.targetID!==a.targetID&&this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.abandon()};d.$2=function(){var a=this;this.setState({loading:!0});var c=b("XPagesShareActorListController").getURIBuilder().setInt("target_id",this.props.targetID).getURI();this.$1=new(b("AsyncRequest"))().setURI(c).setHandler(function(b){b=b.getPayload().actorIDs;var c=a.props.targetID;a.setState({actorIDs:b,loading:!1,selectedActorID:c});a.props.onChange({value:c})});this.$1.send()};return c}(g.Component);e.exports=a}),null);
__d("XShareConfirmationDisplayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/confirmation_display/",{post_id:{type:"String",required:!0}})}),null);
__d("ShareConfirmationController",["csx","cx","AsyncRequest","DOM","Locale","React","ReactDOM","ShareConfirmationConfig","XShareConfirmationDisplayController","XUICard.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a={tryDisplayShareInFeed:function(a,c){if(!b("ShareConfirmationConfig").display_reshares_in_feed)return;var d="^div._3lb4";c=b("DOM").scry(c,d);d=c.length===1?c[0]:void 0;if(d&&a&&a.object_id&&a.is_wall_share){var e=b("DOM").create("div");b("DOM").appendContent(d,e);this.populatePlaceholderDiv(e);c=b("XShareConfirmationDisplayController").getURIBuilder().setString("post_id",a.object_id);new(b("AsyncRequest"))().setHandler(function(a){a&&a.payload&&a.payload.success||b("DOM").remove(e)}).setErrorHandler(function(){b("DOM").remove(e)}).setRelativeTo(e).setURI(c.getURI()).setAllowCrossPageTransition(!0).send()}},populatePlaceholderDiv:function(a){b("ReactDOM").render(i.jsx(b("XUICard.react"),{className:b("joinClasses")("_2iwp","_vaz"),children:i.jsx("div",{className:(b("Locale").isRTL()?"direction_rtl":"")+" _2iwo _va-",children:i.jsxs("div",{className:"_2iwq",children:[i.jsx("div",{className:"_2iwr"}),i.jsx("div",{className:"_2iws"}),i.jsx("div",{className:"_2iwt"}),i.jsx("div",{className:"_2iwu"}),i.jsx("div",{className:"_2iwv"}),i.jsx("div",{className:"_2iww"}),i.jsx("div",{className:"_2iwx"}),i.jsx("div",{className:"_2iwy"}),i.jsx("div",{className:"_2iwz"}),i.jsx("div",{className:"_2iw-"}),i.jsx("div",{className:"_2iw_"}),i.jsx("div",{className:"_2ix0"})]})})}),a)}};e.exports=a}),null);
__d("ShareDialogOsbachController",["ActorURI","AsyncRequest","ComposerPublisher","DOM","JSResource","MercuryConfig","React","ReactComposerActions","ReactComposerAudienceStore","ReactDOM","ReactShareDialogRoot.react","ShareConfirmationController","ShareDialogDataSources","ShareDialogStatusTypes","UserLivingRoomCreateMutation","XShareDialogSubmitController","destroyOnUnload","getActiveElement","gkx","lazyLoadComponent","uniqueID"],(function(a,b,c,d,e,f){var g=b("React"),h=6e3,i=b("lazyLoadComponent")(b("JSResource")("OnlyMeSharerSaveNux.react").__setRef("ShareDialogOsbachController")),j,k,l,m,n,o,p;function q(a){a||v({type:"posting"})}function r(a,c){b("ShareConfirmationController").tryDisplayShareInFeed(a.payload,j.causalElement);if(!c)v({message:a.payload.message,shareType:a.payload.audience,showOnlyMeSharerSaveNux:a.payload.showOnlyMeSharerSaveNux,type:"success"});else{if(!a.payload.share_now_succeeded){c=a.payload.message_target;if(c&&c.length===1){c=""+c[0];v({type:b("ShareDialogStatusTypes").COMPOSING,errorEntryID:c});return}else v({type:b("ShareDialogStatusTypes").ERROR})}c=a&&a.payload&&a.payload.entry_id;v({type:b("ShareDialogStatusTypes").COMPOSING,sentEntryID:c})}j.closeParentOnFinish&&!(a.payload.audience==="message")&&window.setTimeout(s,h)}function s(){window.close()}function t(a){b("MercuryConfig").MNNSS?v({message:a.getErrorDescription(),title:a.getErrorSummary(),type:b("ShareDialogStatusTypes").ERROR}):v({type:b("ShareDialogStatusTypes").COMPOSING}),j.closeParentOnFinish&&window.setTimeout(s,h)}function u(a){a.error&&(b("MercuryConfig").MNNSS?v({type:b("ShareDialogStatusTypes").ERROR}):v({type:b("ShareDialogStatusTypes").COMPOSING}))}function v(a){a.showOnlyMeSharerSaveNux&&a.shareType&&m&&n&&o&&!b("MercuryConfig").MNNSS?b("ReactDOM").render(g.jsx(g.Suspense,{fallback:g.jsx("span",{}),children:g.jsx(i,{caretId:m,collectionId:o,objectId:p,shareType:a.shareType,storyContainerId:n})}),k):b("ReactDOM").render(g.jsx(b("ReactShareDialogRoot.react"),babelHelpers["extends"]({},j,{contextConfig:{actorID:j.userId,composerID:l,composerType:"feed_story",gks:j.gks,targetID:j.userId},shown:!0,step:null,onPost:function(a){a.createLivingRoom&&b("gkx")("678808")?(v({type:b("ShareDialogStatusTypes").POSTING}),b("UserLivingRoomCreateMutation").commit({video_id:a.postId,creation_source:"ufi_share",share_surfaces:"post",web_privacyx:a.privacy},function(a){return v({type:b("ShareDialogStatusTypes").SUCCESS})},function(a){return v({type:b("ShareDialogStatusTypes").ERROR})})):w.onPost(a,q,r,t,u)},status:a,sentEntryID:a.sentEntryID,errorEntryID:a.errorEntryID,performMessengerLogging:!0})),k)}var w={getPropsFromAsyncResponse:function(a){var c,d=a.sources;a=babelHelpers.objectWithoutPropertiesLoose(a,["sources"]);var e=d.person,f=d.personTag,g=d.personWall,h=d.group,i=d.event,j=d.page,k=d.fundraiser,l=d.mentions,m=d.place,n=d.action,o=d.object;d=d.story;n=new(c=b("ShareDialogDataSources"))().addSource(c.TYPES.ACTION,n).addSource(c.TYPES.EVENT,i).addSource(c.TYPES.FUNDRAISER,k).addSource(c.TYPES.GROUP,h).addSource(c.TYPES.MENTIONS,l).addSource(c.TYPES.MESSAGE,e).addSource(c.TYPES.OBJECT,o).addSource(c.TYPES.PAGE,j).addSource(c.TYPES.PERSON,f).addSource(c.TYPES.PERSON_WALL,g).addSource(c.TYPES.PLACE,m);b("gkx")("911496")&&n.addSource(b("ShareDialogDataSources").TYPES.STORY,d);return babelHelpers["extends"]({dataSources:n},a)},onPost:function(c,d,e,f,a){var g=c.isNewMessageForward;d&&d(g);d=function(a){b("ReactComposerActions").postSucceeded(l),e(a,g)};if(b("ComposerPublisher").getShouldUseGraphQLForShareDialog(c)){b("ComposerPublisher").publishFromShareDialog(l,c,d,f,a);return}var h=b("XShareDialogSubmitController").getURIBuilder().setInt("app_id",c.appId).setInt("attribution",c.attributionId).setString("audience_type",c.audienceType).setIntVector("audience_targets",c.audienceTargets).setString("composer_session_id",c.composerSessionID).setInt("ephemeral_ttl_mode",c.ephemeralTTLMode).setHackType("ft",c.ft).setStringToStringMap("internalextra",c.internalExtra||j&&j.internalExtra).setInt("internal_preview_image_id",c.internalPreviewImageID).setBool("is_forced_reshare_of_post",c.isForcedReshareOfPost).setString("message",c.message).setStringVector("messaging_tags",c.messageTags).setInt("owner_id",c.ownerId).setInt("post_id",c.postId).setString("privacy",c.privacy).setBool("share_to_group_as_page",!!c.shareToGroupAsPage).setInt("share_type",c.shareType).setInt("shared_ad_id",c.sharedAdId).setString("source",c.source).setInt("tagged_action",c.taggedActionId).setInt("tagged_object",c.taggedObjectId).setString("tagged_object_str",c.taggedObjectStr).setInt("tagged_action_icon",c.taggedActionIconId).setIntVector("tagged_people",c.taggedPeople).setInt("tagged_place",c.taggedPlace).setStringVector("tagged_feed_topics",c.taggedFeedTopics).setHackType("targeted_privacy_data",c.targetedPrivacyData).setBool("is_throwback_post",j.isThrowbackPost).setString("url",c.url).setInt("album_id",b("ReactComposerAudienceStore").getCollectionID(l)).setString("civic_product_source",c.civicProductSource).setEnum("holiday_card_source",j.holidayCardSource).setInt("shared_from_post_id",j.sharedFromPostID).setString("logging_session_id",c.loggingSessionID).setString("section_name",c.sectionName).setBool("perform_messenger_logging",!0).setInt("video_start_time_ms",c.videoStartTimeMs).setString("instant_game_entry_point_data",c.instantGameEntryPointData).setBool("is_app_content_token",c.isAppContentToken).getURI();h=b("ActorURI").create(h,c.actorId);var i=!1;new(b("AsyncRequest"))().setURI(h).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(d).setErrorHandler(function(a){i=!0,f(a),b("ReactComposerActions").postError(l,a)}).setFinallyHandler(function(b){i||a(b)}).send()},setup:function(a,c,d,e,f,g){a.causalElement=b("getActiveElement")(),j=w.getPropsFromAsyncResponse(a),k=c,l=b("uniqueID")(),m=d,n=e,o=f,p=g,v({type:b("ShareDialogStatusTypes").COMPOSING}),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(k),b("DOM").remove(k)})}};e.exports=w}),null);